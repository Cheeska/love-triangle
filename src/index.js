/**
 * @param preferences - an array of integers. Indices of people, whom they love
 * @returns number of love triangles
 */
module.exports =function getLoveTrianglesCount(preferences = []) {

    var count = 0;
    var firstEl = 0;
    var secondEl = 0;
    var thitdEl = 0;
    var lengthOfPreference = preferences.length;

    for (var i = 0; i < lengthOfPreference; i++) {

        firstEl = preferences[i];
        if (verification(firstEl)) {
            secondEl = preferences[firstEl - 1];
            if (verification(secondEl)) {
                thitdEl = preferences[secondEl - 1];
                if (thitdEl  - 1 == i && secondEl != i + 2) count++;
            }
        }

    }
    return Math.round(count / 3);;

    function verification(valueElement) {
        if ((valueElement < lengthOfPreference ) || (valueElement == lengthOfPreference)) {
            return true;
        } else {
            return false;
        }

    }
}
//console.log(getLoveTrianglesCount([63, 42, 134, 107, 369, 362, 309, 94, 301, 154, 40, 47, 126, 262, 285, 162, 193, 157, 77, 184, 266, 233, 341, 317, 220, 300, 347, 181, 19, 52, 222, 358, 114, 370, 250, 185, 271, 143, 27, 325, 183, 224, 51, 222, 67, 267, 254, 60, 65, 289, 303, 169, 365, 171, 240, 80, 46, 35, 53, 151, 146, 4, 205, 363, 144, 152, 86, 291, 333, 318, 199, 13, 357, 348, 90, 186, 29, 127, 82, 293, 275, 321, 155, 182, 84, 45, 116, 206, 344, 270, 247, 366, 60, 295, 125, 162, 316, 159, 33, 123, 349, 292, 98, 366, 38, 266, 296, 312, 14, 286, 287, 59, 55, 99, 337, 150, 277, 180, 258, 317, 282, 203, 176, 288, 269, 72, 230, 175, 57, 276, 297, 167, 203, 367, 34, 360, 202, 165, 336, 203, 216, 26, 105, 49, 118, 329, 197, 336, 364, 87, 93, 44, 236, 204, 158, 303, 320, 160, 103, 155, 275, 195, 22, 215, 284, 15, 299, 104, 30, 35, 221, 368, 223, 41, 282, 100, 333, 149, 231, 145, 265, 85, 174, 338, 369, 188, 74, 253, 279, 326, 319, 252, 232, 205, 96, 226, 305, 8, 206, 358, 73, 309, 273, 10, 1, 302, 89, 308, 248, 310, 192, 110, 154, 189, 25, 263, 123, 23, 124, 215, 54, 152, 303, 2, 363, 241, 136, 50, 322, 78, 266, 17, 163, 111, 343, 308, 68, 44, 119, 113, 306, 190, 6, 273, 201, 126, 355, 353, 260, 58, 294, 211, 186, 12, 145, 134, 138, 239, 153, 326, 32, 109, 141, 356, 28, 179, 148, 354, 95, 75, 332, 268, 133, 70, 319, 326, 334, 9, 214, 356, 229, 128, 62, 138, 166, 212, 234, 219, 228, 364, 237, 311, 56, 342, 8, 4, 361, 51, 132, 238, 316, 199, 173, 306, 147, 226, 5, 153, 137, 313, 324, 345, 210, 30, 364, 9, 331, 274, 81, 18, 79, 281, 162, 292, 11, 242, 101, 235, 61, 172, 24, 37, 340, 117, 149, 267, 64, 20, 280, 177, 218, 251, 328, 207, 108, 11, 39, 187, 327, 41, 275, 342, 209, 272, 91, 339, 201, 261, 73, 227, 131, 243, 337, 178, 59, 168, 3, 330, 307, 135]));

;



